<div class="uk-card uk-card-default uk-card-hover uk-card-body">
  <h3 class="uk-card-title">Register</h3>
  <%= form_with model: @user, local: true do |f| %>
    <div class="uk-margin">
      <div>Name</div>
      <div class="uk-inline">
        <span class="uk-form-icon" uk-icon="icon: user"></span>
        <%= f.text_field :name, class: 'uk-input' %>
      </div>
    </div>
    <%= render "shared/error_messages", errors: @user.errors[:name], attribute: :name %>
    <div class="uk-margin">
      <div>Email</div>
      <div class="uk-inline">
        <span class="uk-form-icon" uk-icon="icon: mail"></span>
        <%= f.text_field :email, class: 'uk-input' %>
      </div>
    </div>
    <%= render "shared/error_messages", errors: @user.errors[:email], attribute: :email %>
    <div class="uk-margin">
      <div>Password</div>
      <div class="uk-inline">
        <span class="uk-form-icon" uk-icon="icon: lock"></span>
        <%= f.password_field :password, class: 'uk-input' %>
      </div>
    </div>
    <%= render "shared/error_messages", errors: @user.errors[:password], attribute: :password %>
    <div class="uk-margin">
      <div>Password confirmation</div>
      <div class="uk-inline">
        <span class="uk-form-icon" uk-icon="icon: lock"></span>
          <%= f.password_field :password_confirmation, class: 'uk-input' %>
      </div>
    </div>
    <%= render "shared/error_messages", errors: @user.errors[:password_confirmation], attribute: "Password confirmation" %>
    <p uk-margin>
      <%= f.submit class: 'uk-button uk-button-primary' %>
    </p>
  <% end %>
</div>

<script>
  <% if @user.errors.any? %>
    UIkit.notification({message: '<span uk-icon=\'icon: close\'></span> There was an error in registering the user',
      pos: 'top-right', status:'danger'})
  <% end %>
</script>
